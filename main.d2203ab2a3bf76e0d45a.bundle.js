webpackJsonp([2],{579:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function hotModuleReplacement(t,e,n,r){function saveState(t){var e=t.toJSON();return n&&(console.time("localStorage"),localStorage.setItem(r,JSON.stringify(t)),console.timeEnd("localStorage")),e}function beforeunload(t){var e=i.injector.get(o.WebpackState);return saveState(e)}void 0===r&&(r="@@WEBPACK_INITIAL_DATA");var i=null,a=e.hot.data;if(console.log("DATA",a),!a&&n)try{console.time("start localStorage"),a=JSON.parse(localStorage.getItem(r))||a,console.timeEnd("start localStorage")}catch(s){console.log("JSON.parse Error",s)}console.time("bootstrap"),"complete"===document.readyState?t(a).then(function(t){return i=t}).then(function(t){return console.timeEnd("bootstrap"),t}):document.addEventListener("DOMContentLoaded",function(){t(a).then(function(t){return i=t}).then(function(t){return console.timeEnd("bootstrap"),t})}),window.WEBPACK_HMR_beforeunload=function(){window.removeEventListener("beforeunload",beforeunload),n&&localStorage.removeItem(r)},e.hot.accept(),window.addEventListener("beforeunload",beforeunload),e.hot.dispose(function(t){console.time("dispose");var e=i.location.nativeElement,n=document.createElement(e.tagName),r=n.style.display;n.style.display="none";var a=e.parentNode;a.insertBefore(n,e);var s=i.injector.get(o.WebpackState),c=saveState(s);Object.assign(t,c),i.dispose(),n.style.display=r,window.removeEventListener("beforeunload",beforeunload),console.timeEnd("dispose")})}var o=n(263);__export(n(263)),e.hotModuleReplacement=hotModuleReplacement},263:function(t,e,n){"use strict";function provideInitialState(t){return void 0===t&&(t={}),[new a.Provider(e.WEBPACK_HMR,{useValue:t}),new a.Provider(s,{useClass:s})]}var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(5);e.WEBPACK_HMR=new a.OpaqueToken("$$AppState");var s=function(){function WebpackState(t){this._state={},this._noop=Function.prototype,this._states=[],t&&console.log("WebpackState initial data",t),this._state=t||this._state}return WebpackState.prototype.set=function(t,e){return this._state[t]=e,this._state[t]},WebpackState.prototype.get=function(t){return this._state[t]},WebpackState.prototype.select=function(t,e){return this._states.push({name:t,getState:e}),this.set(t,this.get(t)||e())},WebpackState.prototype.dispose=function(){this._states=[]},WebpackState.prototype.getState=function(){var t=Object.assign({},this._state);return this._states.reduce(function(t,e){return t[e.name]=e.getState(),t},t)},WebpackState.prototype.toJSON=function(){return this.getState()},WebpackState=o([i(0,a.Optional()),i(0,a.Inject(e.WEBPACK_HMR)),r("design:paramtypes",[Object])],WebpackState)}();e.WebpackState=s,e.provideInitialState=provideInitialState},241:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(243)),__export(n(368)),__export(n(242)),__export(n(156))},242:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(5),s=n(156),c=function(){function ToastContainer(t){this.position="fixed",this.messageClass="toast-message",this.titleClass="toast-title",this.positionClass="toast-top-right",this.toasts=[],this.maxShown=5,this.autoDismiss=!0,t&&Object.assign(this,t)}return ToastContainer.prototype.addToast=function(t){this.positionClass.indexOf("top")>0?(this.toasts.push(t),this.toasts.length>this.maxShown&&this.toasts.splice(0,this.toasts.length-this.maxShown)):(this.toasts.unshift(t),this.toasts.length>this.maxShown&&this.toasts.splice(this.maxShown,this.toasts.length-this.maxShown))},ToastContainer.prototype.removeToast=function(t){this.toasts=this.toasts.filter(function(e){return e.id!==t})},ToastContainer.prototype.dismiss=function(t){this.autoDismiss||this.removeToast(t.id)},ToastContainer.prototype.anyToast=function(){return this.toasts.length>0},ToastContainer.prototype.findToast=function(t){for(var e=0,n=this.toasts;e<n.length;e++){var o=n[e];if(o.id===t)return o}return null},ToastContainer=o([a.Component({selector:"toast-container",template:'\n    <div id="toast-container" [style.position]="position" class="{{positionClass}}">\n      <div *ngFor="#toast of toasts" class="toast-{{toast.type}}" (click)="dismiss(toast)">\n        <div *ngIf="toast.title" class="{{titleClass}}">{{toast.title}}</div>\n        <div class="{{messageClass}}">{{toast.message}}</div>\n      </div>\n    </div>\n    '}),i(0,a.Optional()),i(0,a.Inject(s.ToastOptions)),r("design:paramtypes",[Object])],ToastContainer)}();e.ToastContainer=c},368:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(5),s=n(242),c=n(156),p=n(243),u=function(){function ToastsManager(t,e,n){this.loader=t,this.appRef=e,this.options={autoDismiss:!0,toastLife:3e3},this.index=0,n&&Object.assign(this.options,n)}return ToastsManager.prototype.show=function(t){var e=this;if(this.container)this.setupToast(t);else{var n=this.appRef._rootComponents[0].location,o=a.Injector.resolve([a.provide(c.ToastOptions,{useValue:this.options})]);this.loader.loadNextToLocation(s.ToastContainer,n,o).then(function(n){e.container=n,e.setupToast(t)})}},ToastsManager.prototype.createTimeout=function(t){var e=this;setTimeout(function(){e.clearToast(t)},this.options.toastLife)},ToastsManager.prototype.setupToast=function(t){t.id=++this.index,this.container.instance.addToast(t),this.options.autoDismiss&&this.createTimeout(t.id)},ToastsManager.prototype.clearToast=function(t){if(this.container){var e=this.container.instance;e.removeToast(t),e.anyToast()||this.dispose()}},ToastsManager.prototype.dispose=function(){this.container.dispose(),this.container=null},ToastsManager.prototype.error=function(t,e){var n=new p.Toast("error",t,e);this.show(n)},ToastsManager.prototype.info=function(t,e){var n=new p.Toast("info",t,e);this.show(n)},ToastsManager.prototype.success=function(t,e){var n=new p.Toast("success",t,e);this.show(n)},ToastsManager.prototype.warning=function(t,e){var n=new p.Toast("warning",t,e);this.show(n)},ToastsManager=o([a.Injectable(),i(2,a.Optional()),i(2,a.Inject(c.ToastOptions)),r("design:paramtypes",[a.DynamicComponentLoader,a.ApplicationRef,Object])],ToastsManager)}();e.ToastsManager=u},156:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=function(){function ToastOptions(t){Object.assign(this,t)}return ToastOptions=o([i.Injectable(),r("design:paramtypes",[Object])],ToastOptions)}();e.ToastOptions=a},243:function(t,e){"use strict";var n=function(){function Toast(t,e,n){this.type=t,this.message=e,this.title=n}return Toast}();e.Toast=n},369:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=n(56),s=n(118),c=n(157),p=n(371),u=n(370),f=n(372),l=function(){function AppComponent(){this.title="LXD WebUI"}return AppComponent=o([i.Component({selector:"lxd-app",templateUrl:"assets/templates/app.component.html",directives:[a.ROUTER_DIRECTIVES,f.Header],providers:[s.HTTP_PROVIDERS,a.ROUTER_PROVIDERS,c.ContainerService]}),a.RouteConfig([{path:"/",name:"Home",component:p.ContainersComponent,useAsDefault:!0},{path:"/containers",name:"Containers",component:p.ContainersComponent},{path:"/container/:id",name:"ContainerDetail",component:u.ContainerDetailComponent}]),r("design:paramtypes",[])],AppComponent)}();e.AppComponent=l},370:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=n(56),s=n(157),c=n(241),p=function(){function ContainerDetailComponent(t,e,n){this._containerService=t,this._routeParams=e,this.toastr=n}return ContainerDetailComponent.prototype.ngOnInit=function(){var t=this,e=this._routeParams.get("id");this._containerService.getContainer(e).subscribe(function(e){return t.container=e},function(e){return t.toastr.error(e)})},ContainerDetailComponent.prototype.stopAction=function(){var t=this;this._containerService.setState(this.container.name,"stop").subscribe(function(e){return t.waitOperation(e.id)},function(e){return t.toastr.error(e)})},ContainerDetailComponent.prototype.startAction=function(){var t=this;this._containerService.setState(this.container.name,"start").subscribe(function(e){return t.waitOperation(e.id)},function(e){return t.toastr.error(e)})},ContainerDetailComponent.prototype.restartAction=function(){var t=this;this._containerService.setState(this.container.name,"restart").subscribe(function(e){return t.waitOperation(e.id)},function(e){return t.toastr.error(e)})},ContainerDetailComponent.prototype.waitOperation=function(t){var e=this;this._containerService.waitOperation(t).subscribe(function(t){t.status_code>=400?e.toastr.error(t.err,t.status):e.toastr.success("",t.status),e.updateStatus()},function(t){return e.toastr.error(t)})},ContainerDetailComponent.prototype.execAction=function(){var t=this;this._containerService.exec(this.container.name,["bash"]).subscribe(function(e){var n=t._containerService.operationWebsocket(e.id,e.metadata.fds[0]);n.onopen=function(t){var e=new Terminal({cols:160,rows:32,useStyle:!0,screenKeys:!1,cursorBlink:!1});e.open(document.getElementById("console")),e.on("data",function(t){n.send(new Blob([t]))}),n.onmessage=function(t){if(t.data instanceof Blob){var n=new FileReader;n.addEventListener("loadend",function(){e.write(n.result)}),n.readAsBinaryString(t.data)}else e.write(t.data)},n.onclose=function(t){console.log("WebSocket closed"),e.destroy()},n.onerror=function(t){console.error(t)}}},function(e){return t.toastr.error(e)})},ContainerDetailComponent.prototype.deleteAction=function(){var t=this;this._containerService.delete(this.container.name).subscribe(function(t){},function(e){return t.toastr.error(e)})},ContainerDetailComponent.prototype.updateStatus=function(){var t=this;this._containerService.getContainer(this.container.name).subscribe(function(e){return t.container=e},function(e){return t.toastr.error(e)})},ContainerDetailComponent=o([i.Component({selector:"container-detail",templateUrl:"assets/templates/container-detail.component.html",providers:[c.ToastsManager]}),r("design:paramtypes",[s.ContainerService,a.RouteParams,c.ToastsManager])],ContainerDetailComponent)}();e.ContainerDetailComponent=p},371:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=n(56),s=n(157),c=n(109),p=n(241),u=function(){function ContainersComponent(t,e,n,o){var r=this;this.appConfig=t,this._router=e,this._containerService=n,this.toastr=o,this.title="LXD WebUI",t.onChangeConfig.subscribe(function(t){return r.getContainers()})}return ContainersComponent.prototype.ngOnInit=function(){this.getContainers()},ContainersComponent.prototype.onSelect=function(t){var e=["ContainerDetail",{id:t.name}];this._router.navigate(e)},ContainersComponent.prototype.getContainers=function(){var t=this;this._containerService.getContainers().subscribe(function(e){e.subscribe(function(e){return t.containers=e})},function(e){return t.toastr.error(e)})},ContainersComponent.prototype.isRunning=function(t){return"Running"===t.status},ContainersComponent=o([i.Component({selector:"lxd-containers",templateUrl:"assets/templates/containers.component.html",providers:[p.ToastsManager]}),r("design:paramtypes",[c.AppConfig,a.Router,s.ContainerService,p.ToastsManager])],ContainersComponent)}();e.ContainersComponent=u},372:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=n(169),s=n(109),c=function(){function Header(t){this.appConfig=t,this.isCollapsed=!0}return Object.defineProperty(Header.prototype,"LXDServerUrl",{get:function(){return this.appConfig.LXDServerUrl},enumerable:!0,configurable:!0}),Header.prototype.onLXDUrl=function(t){var e=t.target.value;localStorage.setItem("lxd_server_url",e),this.appConfig.LXDServerUrl=e},o([i.Input(),r("design:type",String)],Header.prototype,"title",void 0),Header=o([i.Component({selector:"demo-header",templateUrl:"assets/templates/menu.component.html",directives:[a.CORE_DIRECTIVES]}),r("design:paramtypes",[s.AppConfig])],Header)}();e.Header=c},109:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=function(){function AppConfig(){this.onChangeConfig=new i.EventEmitter;var t=localStorage.getItem("lxd_server_url");null===t?this._LXDServerUrl="https://127.0.0.1:8443":this._LXDServerUrl=t}return Object.defineProperty(AppConfig.prototype,"LXDServerUrl",{get:function(){return this._LXDServerUrl},set:function(t){this.onChangeConfig.emit("change"),this._LXDServerUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(AppConfig.prototype,"LXDServer",{get:function(){return this._LXDServerUrl.split("/")[2]},enumerable:!0,configurable:!0}),Object.defineProperty(AppConfig.prototype,"LXDProtocol",{get:function(){return this._LXDServerUrl.split("/")[0]+"//"},enumerable:!0,configurable:!0}),o([i.Output(),r("design:type",Object)],AppConfig.prototype,"onChangeConfig",void 0),AppConfig=o([i.Injectable(),r("design:paramtypes",[])],AppConfig)}();e.AppConfig=a},157:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=n(5),a=n(118),s=n(2),c=n(109),p=function(){function ContainerService(t,e){var n=this;this.appConfig=t,this.http=e,this._apiVersion="1.0",t.onChangeConfig.subscribe(function(t){return n.loadServerConfig()}),this.loadServerConfig()}return ContainerService.prototype.getContainers=function(){var t=this,e=[];return this.http.get(this._lxdBaseUrl+"/"+this._apiVersion+"/containers").map(function(n){return n.json().metadata.forEach(function(n){return e.push(t._getContainer(n))}),s.Observable.forkJoin(e)}).catch(this.handleError)},ContainerService.prototype.getContainer=function(t){return this._getContainer("/"+this._apiVersion+"/containers/"+t)},ContainerService.prototype.setState=function(t,e){return this.http.put(this._lxdBaseUrl+"/"+this._apiVersion+"/containers/"+t+"/state",JSON.stringify({action:e,timeout:30,force:!0,stateful:!1})).map(function(t){return t.json().metadata}).catch(this.handleError)},ContainerService.prototype.waitOperation=function(t){return this.http.get(this._lxdBaseUrl+"/"+this._apiVersion+"/operations/"+t+"/wait").map(function(t){return t.json().metadata}).catch(this.handleError)},ContainerService.prototype.exec=function(t,e){return this.http.post(this._lxdBaseUrl+"/"+this._apiVersion+"/containers/"+t+"/exec",JSON.stringify({command:e,environment:{HOME:"/root",TERM:"xterm",USER:"root"},"wait-for-websocket":!0,interactive:!0})).map(function(t){return t.json().metadata}).catch(this.handleError)},ContainerService.prototype.operationWebsocket=function(t,e){return new WebSocket(["wss://",this._lxdServer,"/",this._apiVersion,"/operations/",t,"/websocket?secret=",e].join(""))},ContainerService.prototype.delete=function(t){return this.http.delete(this._lxdBaseUrl+"/"+this._apiVersion+"/containers/"+t).catch(this.handleError)},ContainerService.prototype._getContainer=function(t){return this.http.get(this._lxdBaseUrl+t).map(function(t){return t.json().metadata}).catch(this.handleError)},ContainerService.prototype.handleError=function(t){return console.error(t),s.Observable.throw(t.json().error||"Server error")},ContainerService.prototype.loadServerConfig=function(){this._lxdServer=this.appConfig.LXDServer,this._protocole=this.appConfig.LXDProtocol,this._lxdBaseUrl=this._protocole+this._lxdServer},ContainerService=o([i.Injectable(),r("design:paramtypes",[c.AppConfig,a.Http])],ContainerService)}();e.ContainerService=p},0:function(t,e,n){"use strict";function main(t){void 0===t&&(t={});var e=[r.provideInitialState(t),c.AppConfig];return o.bootstrap(s.AppComponent,a.ENV_PROVIDERS.concat(i.PROVIDERS,i.DIRECTIVES,i.PIPES,e)).catch(function(t){return console.error(t)})}var o=n(170),r=n(579),i=n(374),a=n(379),s=n(369),c=n(109);e.main=main,document.addEventListener("DOMContentLoaded",function(){return main()})},373:function(t,e,n){"use strict";var o=n(5),r=n(56),i=n(377);e.APPLICATION_DIRECTIVES=r.ROUTER_DIRECTIVES.concat([i.RouterActive]),e.DIRECTIVES=[o.provide(o.PLATFORM_DIRECTIVES,{useValue:e.APPLICATION_DIRECTIVES,multi:!0})]},374:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(373)),__export(n(375)),__export(n(376))},375:function(t,e,n){"use strict";var o=n(5);e.APPLICATION_PIPES=[],e.PIPES=[o.provide(o.PLATFORM_PIPES,{useValue:e.APPLICATION_PIPES,multi:!0})]},376:function(t,e,n){"use strict";var o=n(5),r=n(169),i=n(118),a=n(56);e.APPLICATION_PROVIDERS=r.FORM_PROVIDERS.concat(i.HTTP_PROVIDERS,a.ROUTER_PROVIDERS,[o.provide(a.LocationStrategy,{useClass:a.HashLocationStrategy})]),e.PROVIDERS=e.APPLICATION_PROVIDERS.slice()},377:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(378))},378:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=3>i?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(3>i?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},i=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},a=n(56),s=n(1),c=n(5),p=n(56),u=function(){function RouterActive(t,e,n,o,r){this.router=t,this.element=e,this.renderer=n,this.routerLink=o,this.routerActive=null,this.routerActiveAttr="active",this.routerActiveAttr=this._defaultAttrValue(r)}return RouterActive.prototype.ngOnInit=function(){var t=this;this.routerLink.changes.subscribe(function(){t.routerLink.first&&(t._updateClass(),t._findRootRouter().subscribe(function(){t._updateClass()}))})},RouterActive.prototype._findRootRouter=function(){for(var t=this.router;s.isPresent(t.parent);)t=t.parent;return t},RouterActive.prototype._updateClass=function(){var t=this.routerLink.first.isRouteActive;this.renderer.setElementClass(this.element.nativeElement,this._attrOrProp(),t)},RouterActive.prototype._defaultAttrValue=function(t){return this.routerActiveAttr=t||this.routerActiveAttr},RouterActive.prototype._attrOrProp=function(){return s.isPresent(this.routerActive)?this.routerActive:this.routerActiveAttr},o([c.Input(),r("design:type",String)],RouterActive.prototype,"routerActive",void 0),RouterActive=o([c.Directive({selector:"[router-active], [routerActive]"}),i(3,c.Query(p.RouterLink)),i(4,c.Optional()),i(4,c.Attribute("router-active")),r("design:paramtypes",[a.Router,c.ElementRef,c.Renderer,c.QueryList,String])],RouterActive)}();e.RouterActive=u},379:function(t,e,n){"use strict";var o=n(170),r=n(5),i=[];r.enableProdMode(),i=i.concat([o.ELEMENT_PROBE_PROVIDERS_PROD_MODE]),e.ENV_PROVIDERS=i.slice()}});